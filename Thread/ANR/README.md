# ANR

##### Application Not Responding

<br>

## 1. 개념

> ___ANR___ 이란 _Application Not Responding_ 의 약자이다.
>
> App 이 특정 이유로 멈춰있을때, 시스템이 자체적으로 App 을 사용할 수 없는 상태로 판단하고 
>
> 사용자에게 App을 강제 종료하도록 유도하는 상태를 말한다.
>
> 주로 ANR 이 발생하는 경우는 다음과 같다.

- 5초간 App 이 멈춰 있을 때
- 10 초간 브로드캐스트가 처리 되지 않을 때
- 20 초간 서비스가 처리 되지 않을 때

<br>

> 실질적으로 개발을 진행 할 때에는 주로 _Network_ 나 _Database_ 를 이용할 때 ANR 이 발생하는 것을 주의 해야 한다.
>
> 위의 작업 중에는 ANR 이 발생하지 않더라도 다른 UI 기능들이 일시적으로 마비되거나 지연되는 것 처럼 보일 수 있다.
>
> 이는 곧 App의 ___반응성___ 과 직결 되므로 App의 성능 만큼이나 신경을 써 주어야 한다.

<br>

## 2. 구현

> 외부 네트워크로부터 데이터를 다운받는다고 가정하고 예제를 만들어 본다.
>
> ___Thread___ 와 ___Handler___ 를 이용해 장시간 소요되는 작업을 ___비동기적으로___ 처리하도록 한다.
>
> ___Thread___ : 장시간 소요되는 작업을 따로 빼낸다. 이를 통해 MainThread 에 있는 UI 들을 자유자재로 사용 가능하다.
>
> ___Handler___ : Thread 에서 작업을 마친 결과들을 Handler 를 이용해 마무리 한다. _( ex) 데이터 전달, UI 변경 등… )_

